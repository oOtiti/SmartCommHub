{
  "schema": "public",
  "tables": [
    {
      "name": "elderly",
      "columns": [
        {
          "name": "elderly_id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('\"public\".elderly_elderly_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "name",
          "type": "VARCHAR(20)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "id_card",
          "type": "VARCHAR(18)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "age",
          "type": "SMALLINT",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "health_level",
          "type": "VARCHAR(10)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "emergency_contact",
          "type": "VARCHAR(11)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "address",
          "type": "VARCHAR(100)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "register_time",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": "pg_systimestamp()",
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "elderly_id"
        ],
        "name": "elderly_pkey",
        "comment": null
      },
      "foreign_keys": [],
      "indexes": [
        {
          "name": "elderly_id_card_key",
          "unique": true,
          "column_names": [
            "id_card"
          ],
          "duplicates_constraint": "elderly_id_card_key"
        }
      ]
    },
    {
      "name": "provider",
      "columns": [
        {
          "name": "provider_id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('\"public\".provider_provider_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "name",
          "type": "VARCHAR(100)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "service_type",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "service_nature",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "qualification_id",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "contact",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "audit_status",
          "type": "VARCHAR(10)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "belong_community",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "provider_id"
        ],
        "name": "provider_pkey",
        "comment": null
      },
      "foreign_keys": [],
      "indexes": [
        {
          "name": "provider_qualification_id_key",
          "unique": true,
          "column_names": [
            "qualification_id"
          ],
          "duplicates_constraint": "provider_qualification_id_key"
        }
      ]
    },
    {
      "name": "service_item",
      "columns": [
        {
          "name": "service_id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('\"public\".service_item_service_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "provider_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "name",
          "type": "VARCHAR(100)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "content",
          "type": "VARCHAR(500)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "duration",
          "type": "VARCHAR(20)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "price",
          "type": "NUMERIC(8, 2)",
          "nullable": false,
          "default": "0.00",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "service_scope",
          "type": "VARCHAR(200)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "status",
          "type": "VARCHAR(30)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "service_id"
        ],
        "name": "service_item_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "service_item_provider_id_fkey",
          "constrained_columns": [
            "provider_id"
          ],
          "referred_schema": "public",
          "referred_table": "provider",
          "referred_columns": [
            "provider_id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": []
    },
    {
      "name": "family_member",
      "columns": [
        {
          "name": "family_id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('\"public\".family_member_family_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "name",
          "type": "VARCHAR(20)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "phone",
          "type": "VARCHAR(30)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "relation",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "permission_level",
          "type": "VARCHAR(30)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "elderly_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "family_id"
        ],
        "name": "family_member_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "family_member_elderly_id_fkey",
          "constrained_columns": [
            "elderly_id"
          ],
          "referred_schema": "public",
          "referred_table": "elderly",
          "referred_columns": [
            "elderly_id"
          ],
          "options": {
            "ondelete": "CASCADE"
          },
          "comment": null
        }
      ],
      "indexes": []
    },
    {
      "name": "health_record",
      "columns": [
        {
          "name": "record_id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('\"public\".health_record_record_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "elderly_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "monitor_type",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "monitor_value",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "monitor_time",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_abnormal",
          "type": "VARCHAR(5)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "record_id"
        ],
        "name": "health_record_pkey",
        "comment": null
      },
      "foreign_keys": [],
      "indexes": []
    },
    {
      "name": "community_notice",
      "columns": [
        {
          "name": "notice_id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('\"public\".community_notice_notice_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "community_id",
          "type": "VARCHAR(20)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "title",
          "type": "VARCHAR(100)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "content",
          "type": "VARCHAR(1000)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "publish_time",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": "pg_systimestamp()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "target_group",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "notice_id"
        ],
        "name": "community_notice_pkey",
        "comment": null
      },
      "foreign_keys": [],
      "indexes": []
    },
    {
      "name": "service_order",
      "columns": [
        {
          "name": "order_id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('\"public\".service_order_order_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "elderly_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "service_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "reserve_time",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "service_time",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "order_status",
          "type": "VARCHAR(30)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "pay_status",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "eval_score",
          "type": "NULL",
          "nullable": true,
          "default": "0",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "eval_content",
          "type": "TEXT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "eval_time",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "order_id"
        ],
        "name": "service_order_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "service_order_elderly_id_fkey",
          "constrained_columns": [
            "elderly_id"
          ],
          "referred_schema": "public",
          "referred_table": "elderly",
          "referred_columns": [
            "elderly_id"
          ],
          "options": {},
          "comment": null
        },
        {
          "name": "service_order_service_id_fkey",
          "constrained_columns": [
            "service_id"
          ],
          "referred_schema": "public",
          "referred_table": "service_item",
          "referred_columns": [
            "service_id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": []
    },
    {
      "name": "sys_usr_account",
      "columns": [
        {
          "name": "user_id",
          "type": "BIGINT",
          "nullable": false,
          "default": "nextval('\"public\".sys_usr_account_user_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "username",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "phone",
          "type": "VARCHAR(30)",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "password_hash",
          "type": "VARCHAR(255)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "user_type",
          "type": "INTEGER",
          "nullable": false,
          "default": "1",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "nullable": false,
          "default": "true",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "failed_attempts",
          "type": "INTEGER",
          "nullable": false,
          "default": "0",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "locked_until",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "last_login_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "pwd_changed_at",
          "type": "TIMESTAMP",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": "now()",
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "elderly_id",
          "type": "BIGINT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "family_id",
          "type": "BIGINT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "provider_id",
          "type": "BIGINT",
          "nullable": true,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "user_id"
        ],
        "name": "sys_usr_account_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "fk_usr_elderly",
          "constrained_columns": [
            "elderly_id"
          ],
          "referred_schema": "public",
          "referred_table": "elderly",
          "referred_columns": [
            "elderly_id"
          ],
          "options": {
            "ondelete": "SET NULL"
          },
          "comment": null
        },
        {
          "name": "fk_usr_family",
          "constrained_columns": [
            "family_id"
          ],
          "referred_schema": "public",
          "referred_table": "family_member",
          "referred_columns": [
            "family_id"
          ],
          "options": {
            "ondelete": "SET NULL"
          },
          "comment": null
        },
        {
          "name": "fk_usr_provider",
          "constrained_columns": [
            "provider_id"
          ],
          "referred_schema": "public",
          "referred_table": "provider",
          "referred_columns": [
            "provider_id"
          ],
          "options": {
            "ondelete": "SET NULL"
          },
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_sys_usr_account_phone",
          "unique": false,
          "column_names": [
            "phone"
          ]
        },
        {
          "name": "idx_sys_usr_account_user_type",
          "unique": false,
          "column_names": [
            "user_type"
          ]
        },
        {
          "name": "idx_sys_usr_account_username",
          "unique": false,
          "column_names": [
            "username"
          ]
        },
        {
          "name": "uq_sys_usr_account_phone",
          "unique": true,
          "column_names": [
            "phone"
          ],
          "duplicates_constraint": "uq_sys_usr_account_phone"
        },
        {
          "name": "uq_sys_usr_account_username",
          "unique": true,
          "column_names": [
            "username"
          ],
          "duplicates_constraint": "uq_sys_usr_account_username"
        }
      ]
    },
    {
      "name": "access_record",
      "columns": [
        {
          "name": "access_id",
          "type": "INTEGER",
          "nullable": false,
          "default": "nextval('\"public\".access_record_access_id_seq'::regclass)",
          "autoincrement": true,
          "comment": null
        },
        {
          "name": "elderly_id",
          "type": "INTEGER",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "access_type",
          "type": "VARCHAR(4)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "record_time",
          "type": "TIMESTAMP",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "gate_location",
          "type": "VARCHAR(50)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        },
        {
          "name": "is_abnormal",
          "type": "VARCHAR(4)",
          "nullable": false,
          "default": null,
          "autoincrement": false,
          "comment": null
        }
      ],
      "primary_key": {
        "constrained_columns": [
          "access_id"
        ],
        "name": "access_record_pkey",
        "comment": null
      },
      "foreign_keys": [
        {
          "name": "access_record_elderly_id_fkey",
          "constrained_columns": [
            "elderly_id"
          ],
          "referred_schema": "public",
          "referred_table": "elderly",
          "referred_columns": [
            "elderly_id"
          ],
          "options": {},
          "comment": null
        }
      ],
      "indexes": []
    }
  ]
}